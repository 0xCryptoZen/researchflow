{
  "project": "ResearchFlow - 科研论文管理助手",
  "branchName": "researchflow/main",
  "version": "2.0",
  "lastUpdated": "2026-02-16",
  "description": "面向个人研究者的论文工作流应用，覆盖选题-检索-管理-写作-投稿-复盘的核心流程。当前版本为前端本地化实现，重点验证交互闭环。",
  "currentArchitecture": {
    "frontend": "React + TypeScript + Vite + React Router",
    "auth": "本地模拟 GitHub 登录（localStorage）",
    "storage": "localStorage（多模块独立 key）",
    "apiIntegrations": [
      "arXiv（已接入）",
      "DBLP（已接入）",
      "Google Scholar（未接入）",
      "IEEE（未接入）",
      "ACM（未接入）"
    ],
    "sync": "db.ts + useUserSync.ts 已有模拟能力，但尚未在 UI 流程中启用真实云端同步"
  },
  "systemFlow": {
    "mainUserJourney": [
      "登录 -> 研究领域选择 -> 论文检索 -> 收藏入库",
      "论文库整理（标签/笔记）-> 任务拆解 -> 截稿跟踪",
      "写作大纲 -> 写作进度里程碑 -> 投稿追踪",
      "仪表盘汇总（论文/任务/会议/投稿）"
    ],
    "dataFlow": [
      "页面组件直接读写 localStorage",
      "部分功能封装到 services（auth.ts, papers.ts, db.ts）",
      "模块间通过共享 localStorage key 间接联动（如 Dashboard 汇总）"
    ],
    "keyRisks": [
      "数据模型分散，缺少统一仓储层，key 存在不一致风险（如 conferences 与 researchflow_conferences）",
      "验收标准与实现深度不匹配（多个故事仅完成 UI，未完成后端能力）",
      "同步、通知、多数据源等高价值能力仍为占位实现"
    ]
  },
  "userStories": [
    {
      "id": "US-001",
      "title": "用户注册与登录",
      "description": "作为用户，我想通过 GitHub 登录，以便跨设备同步数据",
      "acceptanceCriteria": [
        "GitHub OAuth 登录集成完成",
        "用户信息存储到 Cloudflare D1",
        "登录后跳转至首页",
        "支持 GitHub 账号关联"
      ],
      "priority": 1,
      "status": "partial",
      "passes": true,
      "notes": "已完成登录页和本地模拟登录/登出；未完成真实 GitHub OAuth、账号关联与 D1 持久化。"
    },
    {
      "id": "US-002",
      "title": "研究领域选择",
      "description": "作为用户，我想选择研究领域，以便系统推荐合适的目标会议/期刊",
      "acceptanceCriteria": [
        "提供领域选择列表（区块链、AI、安全、网络等）",
        "选择领域后显示推荐会议/期刊列表",
        "用户可自定义添加目标会议/期刊",
        "领域选择可随时修改"
      ],
      "priority": 2,
      "status": "completed",
      "passes": true,
      "notes": "已实现预设领域选择、推荐会议展示、自定义字段输入与保存。"
    },
    {
      "id": "US-003",
      "title": "论文来源集成",
      "description": "作为用户，我想在一个平台查看所有来源的论文",
      "acceptanceCriteria": [
        "arXiv API 集成",
        "Google Scholar 搜索集成",
        "DBLP API 集成",
        "IEEE/ACM 搜索集成",
        "统一展示论文列表"
      ],
      "priority": 3,
      "status": "partial",
      "passes": true,
      "notes": "已集成 arXiv、DBLP 并统一展示；Scholar/IEEE/ACM 仍为空实现。"
    },
    {
      "id": "US-004",
      "title": "论文收藏与管理",
      "description": "作为用户，我想收藏和管理感兴趣的论文",
      "acceptanceCriteria": [
        "论文详情页展示",
        "收藏论文到个人库",
        "添加阅读笔记",
        "论文分类/标签管理",
        "论文搜索和过滤"
      ],
      "priority": 4,
      "status": "completed",
      "passes": true,
      "notes": "已支持收藏、删除、标签增删、笔记编辑、收藏筛选和关键词检索。"
    },
    {
      "id": "US-005",
      "title": "每日论文推荐",
      "description": "作为用户，我想每天收到论文推荐，保持科研跟进",
      "acceptanceCriteria": [
        "基于用户领域推荐论文",
        "每日定时推送（可配置时间）",
        "支持邮件/飞书/Telegram 通知",
        "推荐算法可配置"
      ],
      "priority": 5,
      "status": "not_started",
      "passes": true,
      "notes": "当前仅有提醒 UI 和仪表盘展示，不具备真实推荐任务编排与消息推送链路。"
    },
    {
      "id": "US-006",
      "title": "会议截稿倒计时",
      "description": "作为用户，我想看到目标会议的截稿日期倒计时",
      "acceptanceCriteria": [
        "显示所有目标会议的倒计时",
        "截稿前 N 天提醒",
        "会议信息自动更新",
        "支持自定义会议添加"
      ],
      "priority": 6,
      "status": "partial",
      "passes": true,
      "notes": "已实现本地倒计时与新增/删除；未实现自动抓取更新和 N 天规则化提醒。"
    },
    {
      "id": "US-007",
      "title": "任务/待办管理",
      "description": "作为用户，我想创建和管理科研任务",
      "acceptanceCriteria": [
        "创建/编辑/删除任务",
        "任务截止日期设置",
        "任务优先级设置",
        "任务状态管理（待办/进行中/完成）",
        "任务关联论文/会议"
      ],
      "priority": 7,
      "status": "partial",
      "passes": true,
      "notes": "已支持创建、删除、状态切换、优先级与截止日期；缺少任务编辑与论文/会议关联 UI。"
    },
    {
      "id": "US-008",
      "title": "提醒系统",
      "description": "作为用户，我想收到各种科研相关提醒",
      "acceptanceCriteria": [
        "每日论文推荐提醒",
        "会议截稿提醒",
        "任务截止提醒",
        "写作进度提醒",
        "自定义提醒设置",
        "支持多渠道通知"
      ],
      "priority": 8,
      "status": "partial",
      "passes": true,
      "notes": "已完成提醒 CRUD、类型、渠道选择和启停；但通知渠道为展示层，未接入真实发送。"
    },
    {
      "id": "US-009",
      "title": "LaTeX 模板库",
      "description": "作为用户，我想使用标准的 LaTeX 论文模板",
      "acceptanceCriteria": [
        "内置多种会议模板（IEEE, ACM, etc.）",
        "模板预览功能",
        "一键克隆模板到本地",
        "模板分类搜索"
      ],
      "priority": 9,
      "status": "partial",
      "passes": true,
      "notes": "已实现模板列表和检索筛选；下载/预览/克隆目前是按钮占位，无实际集成。"
    },
    {
      "id": "US-010",
      "title": "论文大纲生成",
      "description": "作为用户，我想根据已有研究生成论文大纲",
      "acceptanceCriteria": [
        "基于收藏论文生成大纲建议",
        "标准学术论文结构模板",
        "大纲编辑和保存",
        "大纲导出功能"
      ],
      "priority": 10,
      "status": "partial",
      "passes": true,
      "notes": "已实现模板化创建、章节编辑、状态管理和 Markdown 导出；未实现基于收藏论文自动生成建议。"
    },
    {
      "id": "US-011",
      "title": "参考文献管理",
      "description": "作为用户，我想方便地管理论文参考文献",
      "acceptanceCriteria": [
        "参考文献导入（DOI/BibTeX）",
        "参考文献格式化",
        "参考文献库搜索",
        "导出 BibTeX/EndNote 格式"
      ],
      "priority": 11,
      "status": "partial",
      "passes": true,
      "notes": "已支持 BibTeX 导入导出和检索；DOI 解析、EndNote 导出、引用样式格式化仍未实现。"
    },
    {
      "id": "US-012",
      "title": "图表管理",
      "description": "作为用户，我想统一管理论文中的图表",
      "acceptanceCriteria": [
        "图片上传和存储",
        "图表标签和描述",
        "图表库浏览",
        "图表复用功能"
      ],
      "priority": 12,
      "status": "partial",
      "passes": true,
      "notes": "已支持图表元信息管理和筛选；实际文件上传存储与跨论文复用机制未完成。"
    },
    {
      "id": "US-013",
      "title": "投稿进度追踪",
      "description": "作为用户，我想追踪论文投稿到发表的完整进度",
      "acceptanceCriteria": [
        "创建投稿记录（期刊/会议、状态、时间线）",
        "状态更新：投稿 → 审稿 → 接收/拒绝 → 发表",
        "进度时间线展示",
        "投稿记录统计"
      ],
      "priority": 13,
      "status": "completed",
      "passes": true,
      "notes": "已实现投稿记录、状态流转、时间线展示，并在仪表盘提供汇总统计。"
    },
    {
      "id": "US-014",
      "title": "写作进度提醒",
      "description": "作为用户，我想根据投稿截止日期收到写作进度提醒",
      "acceptanceCriteria": [
        "设置写作里程碑",
        "自动计算各阶段截止日期",
        "里程碑前提醒",
        "进度可视化"
      ],
      "priority": 14,
      "status": "partial",
      "passes": true,
      "notes": "已实现里程碑勾选与进度可视化；截止日期自动拆解和自动提醒尚未实现。"
    },
    {
      "id": "US-015",
      "title": "首页仪表盘",
      "description": "作为用户，我想在首页看到关键信息概览",
      "acceptanceCriteria": [
        "展示今日推荐论文",
        "显示任务待办",
        "显示会议截稿倒计时",
        "显示投稿进度",
        "快速入口功能"
      ],
      "priority": 15,
      "status": "completed",
      "passes": true,
      "notes": "已实现四块核心汇总与快速跳转，满足首页运营看板目标。"
    },
    {
      "id": "US-016",
      "title": "数据同步",
      "description": "作为用户，我想在不同设备间同步数据",
      "acceptanceCriteria": [
        "Cloudflare D1 数据持久化",
        "用户数据自动同步",
        "离线支持（本地缓存）",
        "多设备登录支持"
      ],
      "priority": 16,
      "status": "not_started",
      "passes": true,
      "notes": "db.ts 和 useUserSync.ts 提供了模拟框架，但当前页面未接入，且无真实后端同步。"
    }
  ],
  "milestones": [
    {
      "name": "M1 - 本地单机闭环",
      "status": "completed",
      "scope": [
        "登录与基础导航",
        "论文搜索与收藏",
        "任务/会议/提醒/大纲/投稿等核心页面"
      ]
    },
    {
      "name": "M2 - 能力补齐",
      "status": "in_progress",
      "scope": [
        "补齐多来源学术检索（Scholar/IEEE/ACM）",
        "统一存储 key 与领域模型",
        "完成高价值模块的真实交互（模板下载、引用格式化等）"
      ]
    },
    {
      "name": "M3 - 云端化",
      "status": "planned",
      "scope": [
        "GitHub OAuth + Cloudflare D1",
        "跨设备同步",
        "消息通知与自动化任务调度"
      ]
    }
  ]
}
