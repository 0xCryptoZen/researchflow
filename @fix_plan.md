# ResearchFlow 修复计划

## 执行优先级

> 按 P0 → P1 → P2 排列，每个任务 5-30 分钟

---

## P0 - 核心架构 (必须优先)

### P0-1 完善 GitHub OAuth + D1 持久化
- [ ] **P0-1.1** 创建 Cloudflare Workers 项目结构 (10min)
- [ ] **P0-1.2** 配置 D1 数据库 schema (10min)
- [ ] **P0-1.3** 实现 GitHub OAuth 回调接口 (15min)
- [ ] **P0-1.4** 迁移用户数据到 D1 (15min)

### P0-2 数据同步能力
- [x] **P0-2.1** 实现增量同步 API (10min)
- [x] **P0-2.2** 改造 Repository 层支持云端模式 (15min)
- [x] **P0-2.3** 添加离线缓存支持 (10min)

### P0-3 存储层统一
- [x] **P0-3.1** 补齐剩余模块仓储化 (15min)
- [x] **P0-3.2** 完善 storage service 事件机制 (10min)

---

## P1 - 核心功能补齐

### P1-1 论文来源扩展
- [x] **P1-1.1** 接入 Google Scholar 搜索 (20min)
- [x] **P1-1.2** 接入 IEEE Xplore API (15min)
- [x] **P1-1.3** 接入 ACM DL API (15min)

### P1-2 会议自动更新
- [x] **P1-2.1** 抓取会议官网 deadline (15min)
- [x] **P1-2.2** 实现 N 天规则化提醒 (10min)

### P1-3 任务增强
- [x] **P1-3.1** 优化任务编辑 UI (10min)
- [x] **P1-3.2** 任务关联论文/会议完整 (10min)

---

## P2 - 体验优化

### P2-1 提醒系统
- [x] **P2-1.1** 接入邮件通知 (SMTP/SendGrid) (20min)
- [x] **P2-1.2** 接入飞书/钉钉 webhook (15min)
- [x] **P2-1.3** 接入 Telegram Bot 通知 (15min)

### P2-2 LaTeX 模板
- [x] **P2-2.1** 实现模板预览功能 (10min)
- [x] **P2-2.2** 实现模板克隆/下载 (10min)

### P2-3 参考文献
- [ ] **P2-3.1** 实现 DOI 解析自动填充 (15min)
- [ ] **P2-3.2** 实现引用样式格式化 (15min)

### P2-4 图表管理
- [ ] **P2-4.1** 实现图片上传到 R2/Cloudflare Images (15min)
- [ ] **P2-4.2** 实现跨论文复用机制 (10min)

---

## P3 - 高价值特性

### P3-1 每日推荐
- [ ] **P3-1.1** 实现基于领域的论文推荐算法 (20min)
- [ ] **P3-1.2** 实现定时任务调度 (Cloudflare Scheduled Tasks) (15min)

### P3-2 大纲生成
- [ ] **P3-2.1** 基于收藏论文生成大纲建议 (15min)
- [ ] **P3-2.2** AI 辅助大纲优化 (调用 LLM API) (20min)

### P3-3 写作进度
- [ ] **P3-3.1** 截止日期自动拆解 (10min)
- [ ] **P3-3.2** 自动提醒机制 (10min)

---

## 实施建议

1. **每天完成 2-3 个 P0 任务**，确保核心架构稳定
2. **P1 任务可并行处理**，但需确保 P0 完成后启动
3. **P2/P3 可在周末或功能模块完成后补齐**
4. 每次任务完成后更新 `progress.txt`

## 状态更新

最后更新: 2026-02-18
